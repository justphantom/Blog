<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <link rel="icon" href="/static/img/favicon.png" type="image/x-icon" />
    <link rel="shortcut icon" href="/static/img/favicon.png" type="image/x-icon" />
    <script type="text/javascript" src="/static/lib/js/sqljs/sql-wasm.js"></script>
    <title>Hello World</title>
</head>

<body>
    <h1>Hello World!</h1>
    <hr>
    <script type="text/javascript">
        var xhr = new XMLHttpRequest();
        xhr.open('GET', '/db/book.db', true);
        xhr.responseType = 'arraybuffer';
        xhr.onload = function (e) {
            var uInt8Array = new Uint8Array(this.response);
            initSqlJs({ locateFile: filename => `/static/lib/js/sqljs/${filename}` }).then(function (SQL) {
                var db = new SQL.Database(uInt8Array);
                var contents = db.exec("SELECT * FROM bookinfo");
            });
        };
        xhr.send();
    </script>
</body>

</html>